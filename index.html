<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Nijenhuis Botenverhuur | Camping & Jachthaven in Giethoorn & Wanneperveen</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Botenverhuur in het prachtige natuurgebied Weerribben bij Giethoorn. Elektrische boten, kano's, camping en jachthaven diensten. Boek uw perfecte dag op het water.">
    <meta name="keywords" content="botenverhuur, Giethoorn, Wanneperveen, Weerribben, elektrische boten, camping, jachthaven, kano, kajak">
    <meta name="author" content="Nijenhuis Boat Rental">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Nijenhuis Botenverhuur - Giethoorn & Wanneperveen">
    <meta property="og:description" content="Ervaar de schoonheid van het natuurgebied Weerribben met onze botenverhuur. Elektrische boten, kano's, camping en jachthaven diensten beschikbaar.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nijenhuis-botenverhuur.com/en/">
    <meta property="og:image" content="Images/banner-img.jpg">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nijenhuis Botenverhuur - Giethoorn & Wanneperveen">
    <meta name="twitter:description" content="Botenverhuur in het prachtige natuurgebied Weerribben. Elektrische boten, kano's, camping en jachthaven diensten.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/Images/logo-white.svg">
    <link rel="apple-touch-icon" href="/Images/logo-white.svg">
    
    <!-- Preload Critical Resources -->

    <link rel="preload" href="Images/banner-img.jpg" as="image">
    <link rel="stylesheet" href="styles.css">

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Nijenhuis Botenverhuur",
        "description": "Botenverhuur, camping en jachthaven diensten in het natuurgebied Weerribben bij Giethoorn",
        "url": "https://nijenhuis-botenverhuur.com/en/",
        "telephone": "+31522281528",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Veneweg 199",
            "addressLocality": "Wanneperveen",
            "postalCode": "7946 LP",
            "addressCountry": "NL"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 52.697269,
            "longitude": 6.077958
        },
        "openingHours": "Mo-Su 09:00-18:00",
        "priceRange": "‚Ç¨‚Ç¨",
        "image": "Images/banner-img.jpg",
        "sameAs": [
            "https://www.facebook.com/nijenhuisbotenverhuur"
        ]
    }
    </script>
    <!-- Flag Icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.6.6/css/flag-icons.min.css">
    <style>
        /* Fallback for flag icons if CDN fails */
        .fi:before {
            content: 'üè≥Ô∏è';
        }
        .fi-nl:before {
            content: 'üá≥üá±';
        }
        .fi-gb:before {
            content: 'üá¨üáß';
        }
        .fi-de:before {
            content: 'üá©üá™';
        }
        
        /* Ensure flag icons are visible */
        .flag-circle {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .flag-circle .fi {
            font-size: 16px;
            line-height: 20px;
            display: block;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="contact-info">
                    <span>Openingstijden: 9:00 - 18:00 | </span>
                    <a href="tel:+31522281528">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                        </svg>
                        0522 - 281 528
                    </a>
                </div>

            </div>
        </div>
    </div>

    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="nav-container">
                <a href="index.html" class="logo-link">
                    <img src="Images/logo-white.svg" alt="Nijenhuis Botenverhuur" class="logo">
                </a>
                
                <ul class="nav-menu" id="navMenu">
                    <li><a href="pages/botenverhuur.html">Botenverhuur</a></li>
                    <li><a href="pages/vakantiehuis.html">Vakantiehuis</a></li>
                    <li><a href="pages/te-koop.html">Te Koop</a></li>
                    <li><a href="pages/camping.html">Camping</a></li>
                    <li><a href="pages/jachthaven.html">Jachthaven</a></li>
                    <li><a href="pages/vaarkaart.html">Vaarkaart</a></li>
                    <li><a href="pages/contact.html">Contact</a></li>
                    <li class="language-switcher">
                        <a href="#" class="current-lang">
                            <span class="flag-circle"><span class="fi fi-nl"></span></span> NL
                        </a>
                        <div class="lang-dropdown">
                            <a href="?lang=nl" class="lang-option active" data-lang="nl">
                                <span class="flag-circle"><span class="fi fi-nl"></span></span>
                                Nederlands
                            </a>
                            <a href="?lang=en" class="lang-option" data-lang="en">
                                <span class="flag-circle"><span class="fi fi-gb"></span></span>
                                English
                            </a>
                            <a href="?lang=de" class="lang-option" data-lang="de">
                                <span class="flag-circle"><span class="fi fi-de"></span></span>
                                Deutsch
                            </a>
                        </div>
                    </li>
                </ul>
                
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-layout">
                            <!-- Booking Form -->
            <form class="booking-form" id="bookingForm" action="https://formspree.io/f/xpzgwqjq" method="POST" data-test="true">
                <h2>Beschikbaarheid Controleren</h2>
                <div class="form-group">
                    <label for="date">Datum</label>
                    <input type="date" id="date" name="date" required>
                </div>
                <div class="form-group">
                    <label for="boatType">Boot Type</label>
                    <select id="boatType" name="boatType" required>
                        <option value="">Selecteer een boot</option>
                        <option value="classic-tender-720">Classic tender 720 10/12 pers</option>
                        <option value="electrosloop-10">Electrosloop 10 pers</option>
                        <option value="classic-tender-570">Classic tender 570 8pers</option>
                        <option value="electrosloop-8">Electrosloop 8 pers</option>
                        <option value="sailboat-4-5">Zeilboot 4/5 pers</option>
                        <option value="sailpunter-3-4">Zeilpunter 3/4 pers</option>
                        <option value="electroboat-5">Electroboot 5 pers</option>
                        <option value="canoe-3">Canadese kano 3 pers</option>
                        <option value="kayak-2">Kajak 2 pers</option>
                        <option value="kayak-1">Kajak 1 pers</option>
                        <option value="sup-board">SUP board 1 pers</option>
                    </select>
                </div>
                
                <!-- Formspree configuration -->
                <input type="hidden" name="_next" value="https://nijenhuis-botenverhuur.nl/index.html?success=true">
                <input type="hidden" name="_subject" value="Nieuwe reserveringsaanvraag - Nijenhuis Botenverhuur">
                <input type="hidden" name="_replyto" value="info@nijenhuis-botenverhuur.nl">
                <input type="hidden" name="formType" value="booking">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">

                <button type="submit" class="btn">Beschikbaarheid Controleren</button>
                <button type="button" class="btn btn-outline" onclick="window.nijenhuisWebsite.handleFormSubmissionFallback(document.getElementById('bookingForm'))" style="margin-top: 10px;">
                    üìß Email Sturen
                </button>
            </form>
                
                            <div class="hero-content">
                <h1>Ontsnap naar het Natuurparadijs</h1>
                <p>Ervaar de schoonheid van het natuurgebied Weerribben met onze premium botenverhuur. Perfect voor families, vrienden en natuurliefhebbers.</p>
            </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main>
        <!-- Introduction Section -->
        <section class="intro-section">
            <div class="container">
                <div class="intro-grid">
                    <div class="intro-content">
                        <h2>Een Vredige Ontsnapping van het Dagelijks Leven</h2>
                        <p>In de drukke wereld van vandaag heeft iedereen een moment nodig om los te koppelen. Laat files, stress en de dagelijkse sleur achter je. Ervaar het leven vanuit een ander perspectief - vanaf het water.</p>
                        <p>Onze boten bieden de perfecte manier om het adembenemende natuurgebied Weerribben te verkennen, met onvergetelijke herinneringen voor u en uw dierbaren.</p>
                    </div>
                    <div class="intro-features">
                        <h3>Waarom Kiezen voor Nijenhuis?</h3>
                        <ul class="features-list">
                            <li>üìç Gelegen in het hart van het natuurgebied Weerribben</li>
                            <li>üö§ Breed assortiment boten voor alle voorkeuren</li>
                            <li>üåø Milieuvriendelijke elektrische boten beschikbaar</li>
                            <li>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Perfect voor families en groepen</li>
                            <li>üí∞ Concurrenti√´le prijzen voor alle budgetten</li>
                            <li>üìû Persoonlijke service en ondersteuning</li>
                        </ul>
                        <div class="cta-box">
                            <p><strong>Voor meer informatie, bel 0522 - 281 528</strong></p>
                            <p class="payment-note">Contant en pin betalingen geaccepteerd</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Boats Section -->
        <section class="boats-section" id="boats">
            <div class="container">
                <h2>Onze Botenvloot</h2>
                <div class="boats-grid" id="boatsGrid">
                    <!-- Boats will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section class="services-section">
            <div class="container">
                <h2>Onze Diensten</h2>
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">üö§</div>
                        <h3>Botenverhuur</h3>
                        <p>Elektrische boten, kano's, kajaks en SUP boards voor alle leeftijden en ervaringsniveaus.</p>
                        <a href="pages/botenverhuur.html" class="btn btn-outline">Meer Info</a>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">üèïÔ∏è</div>
                        <h3>Camping</h3>
                        <p>Prachtige kampeerplaatsen in het natuurgebied met moderne faciliteiten en adembenemende uitzichten.</p>
                        <a href="pages/camping.html" class="btn btn-outline">Meer Info</a>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">‚öì</div>
                        <h3>Jachthaven</h3>
                        <p>Professionele jachthaven diensten voor booteigenaren met veilige ligplaatsen en onderhoud.</p>
                        <a href="pages/jachthaven.html" class="btn btn-outline">Meer Info</a>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">üè†</div>
                        <h3>Vakantiehuis</h3>
                        <p>Comfortabele vakantie accommodatie perfect voor families en groepen.</p>
                        <a href="pages/vakantiehuis.html" class="btn btn-outline">Meer Info</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Map Section -->
        <section class="map-section">
            <div class="container">
                <h2>Vind Ons</h2>
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d77373.91668916645!2d6.077958504433576!3d52.69726901355547!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47c871953a3891e5%3A0x1a70802adc308067!2sVeneweg+199%2C+7946+LP+Wanneperveen!5e0!3m2!1sen!2snl!4v1552921192864" 
                        width="100%" 
                        height="400" 
                        style="border:0; border-radius: var(--border-radius);" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <img src="Images/logo-white.svg" alt="Nijenhuis Botenverhuur" class="footer-logo">
                    <p>Uw toegangspoort tot het prachtige natuurgebied Weerribben.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Contactgegevens</h4>
                    <ul class="footer-links">
                        <li>Nijenhuis Botenverhuur</li>
                        <li>Camping & Jachthaven</li>
                        <li>Veneweg 199</li>
                        <li>7946 LP Wanneperveen</li>
                        <li>Tel: 0522 281 528</li>
                        <li>Kvk: 6769 7097</li>
                        <li>Btw nr: NL 195153637 B01</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Diensten</h4>
                    <ul class="footer-links">
                        <li><a href="pages/botenverhuur.html">Botenverhuur</a></li>
                        <li><a href="pages/vakantiehuis.html">Vakantiehuis</a></li>
                        <li><a href="pages/te-koop.html">Te Koop</a></li>
                        <li><a href="pages/camping.html">Camping</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Meer Informatie</h4>
                    <ul class="footer-links">
                        <li><a href="pages/jachthaven.html">Jachthaven</a></li>
                        <li><a href="pages/vaarkaart.html">Vaarkaart</a></li>
                        <li><a href="pages/contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Nijenhuis Botenverhuur. Alle rechten voorbehouden.</p>
            </div>
        </div>
    </footer>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <button class="chat-button" id="chatButton" aria-label="Open chat">
            üí¨
        </button>
        
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <h3>Nijenhuis Support</h3>
                <button class="chat-close" id="chatClose" aria-label="Close chat">√ó</button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be added here dynamically -->
            </div>
            
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Type your message..." maxlength="500">
                <button class="chat-send" id="chatSend" aria-label="Send message">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Modern JavaScript -->
    <script>
        // Modern JavaScript with ES6+ features
        class NijenhuisWebsite {
            constructor() {
                // Wait for DOM to be fully loaded
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.init());
                } else {
                    this.init();
                }
            }

            init() {
                this.setupMobileMenu();
                this.setupBookingForm();
                this.loadBoats();
                this.setupLazyLoading();
                this.setupServiceWorker();
            }

            setupMobileMenu() {
                const mobileToggle = document.getElementById('mobileMenuToggle');
                const navMenu = document.getElementById('navMenu');

                mobileToggle?.addEventListener('click', () => {
                    navMenu.classList.toggle('active');
                    this.updateMobileMenuIcon();
                });

                // Close menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!mobileToggle?.contains(e.target) && !navMenu?.contains(e.target)) {
                        navMenu?.classList.remove('active');
                        this.updateMobileMenuIcon();
                    }
                });
            }

            updateMobileMenuIcon() {
                const mobileToggle = document.getElementById('mobileMenuToggle');
                const navMenu = document.getElementById('navMenu');
                
                if (navMenu?.classList.contains('active')) {
                    mobileToggle.innerHTML = `
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                        </svg>
                    `;
                } else {
                    mobileToggle.innerHTML = `
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                        </svg>
                    `;
                }
            }

            setupBookingForm() {
                const form = document.getElementById('bookingForm');
                const dateInput = document.getElementById('date');
                const boatSelect = document.getElementById('boatType');

                // Check if form elements exist
                if (!form || !dateInput || !boatSelect) {
                    console.error('Booking form elements not found');
                    return;
                }

                // Set default date to tomorrow
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                dateInput.value = tomorrow.toISOString().split('T')[0];

                // Add form submission handler
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handleFormSubmission(form);
                });

                // Real-time availability check (optional)
                dateInput.addEventListener('change', () => {
                    this.checkAvailability(dateInput.value);
                });
            }

            // Fallback method using mailto
            handleFormSubmissionFallback(form) {
                const date = form.querySelector('#date').value;
                const boatType = form.querySelector('#boatType').value;
                
                if (!date || !boatType) {
                    this.showNotification('Vul alle velden in.', 'error');
                    return;
                }

                const boatName = form.querySelector(`#boatType option[value="${boatType}"]`).textContent;
                const subject = 'Nieuwe reserveringsaanvraag - Nijenhuis Botenverhuur';
                const body = `Datum: ${date}\nBoot Type: ${boatName}\n\nVerzonden vanaf de website.`;
                
                const mailtoLink = `mailto:info@nijenhuis-botenverhuur.nl?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                this.showNotification('Opening email client...', 'info');
                window.location.href = mailtoLink;
            }

            // Test Formspree connection
            async testFormspree() {
                try {
                    this.showNotification('Testing Formspree connection...', 'info');
                    
                    const testData = new FormData();
                    testData.append('test', 'true');
                    testData.append('message', 'Test message from Nijenhuis website');
                    
                    const response = await fetch('https://formspree.io/f/xpzgwqjq', {
                        method: 'POST',
                        body: testData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    console.log('Test response status:', response.status);
                    console.log('Test response headers:', response.headers);
                    
                    if (response.ok) {
                        this.showNotification('‚úÖ Formspree test successful!', 'success');
                    } else {
                        const errorData = await response.json();
                        console.error('Test error:', errorData);
                        this.showNotification(`‚ùå Formspree test failed: ${response.status}`, 'error');
                    }
                } catch (error) {
                    console.error('Test error:', error);
                    this.showNotification('‚ùå Formspree test failed: Network error', 'error');
                }
            }

            async handleFormSubmission(form) {
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;
                
                try {
                    // Show loading state
                    submitBtn.textContent = 'Versturen...';
                    submitBtn.disabled = true;

                    // Get form data
                    const formData = new FormData(form);
                    const date = formData.get('date');
                    const boatType = formData.get('boatType');

                    console.log('Submitting form data:', { date, boatType });

                    // Submit to Formspree
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    console.log('Formspree response status:', response.status);
                    console.log('Formspree response headers:', response.headers);

                    if (response.ok) {
                        // Success - redirect to success page
                        this.showNotification('Formulier succesvol verzonden!', 'success');
                        setTimeout(() => {
                            window.location.href = form.querySelector('input[name="_next"]').value;
                        }, 1500);
                    } else {
                        // Handle Formspree errors
                        let errorMessage = 'Er is een fout opgetreden. Probeer het later opnieuw.';
                        
                        try {
                            const errorData = await response.json();
                            console.error('Formspree error data:', errorData);
                            
                            if (errorData.error) {
                                errorMessage = `Formspree fout: ${errorData.error}`;
                            }
                        } catch (parseError) {
                            console.error('Could not parse error response:', parseError);
                        }
                        
                        // Show error and offer fallback
                        this.showNotification(errorMessage + ' Probeer de email optie.', 'error');
                        
                        // Offer fallback after a delay
                        setTimeout(() => {
                            if (confirm('Formspree werkt niet. Wilt u een email sturen in plaats daarvan?')) {
                                this.handleFormSubmissionFallback(form);
                            }
                        }, 2000);
                    }

                } catch (error) {
                    console.error('Form submission error:', error);
                    
                    // Check if it's a network error
                    if (error.name === 'TypeError' && error.message.includes('fetch')) {
                        this.showNotification('Netwerkfout. Controleer uw internetverbinding en probeer het opnieuw.', 'error');
                    } else {
                        this.showNotification('Er is een onverwachte fout opgetreden. Probeer het later opnieuw.', 'error');
                    }
                } finally {
                    // Reset button
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            }

            async handleBooking(form) {
                const formData = new FormData(form);
                const date = formData.get('date');
                const boatType = formData.get('boatType');

                try {
                    // Show loading state
                    const submitBtn = form.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Checking...';
                    submitBtn.disabled = true;

                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1000));

                    // Check availability
                    const isAvailable = await this.checkAvailability(date, boatType);
                    
                    if (isAvailable) {
                        this.showNotification('Boat is available! Redirecting to booking page...', 'success');
                        // Redirect to booking page
                        setTimeout(() => {
                            window.location.href = `/en/boat-hire/${boatType}/?date=${date}`;
                        }, 1500);
                    } else {
                        this.showNotification('Sorry, this boat is not available on the selected date.', 'error');
                    }

                } catch (error) {
                    this.showNotification('An error occurred. Please try again.', 'error');
                } finally {
                    // Reset button
                    const submitBtn = form.querySelector('button[type="submit"]');
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            }

            async checkAvailability(date, boatType = null) {
                // Simulate API call to check availability
                // In real implementation, this would call your backend
                return Math.random() > 0.3; // 70% chance of availability for demo
            }

            showNotification(message, type = 'info') {
                // Create notification element
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <span class="notification-message">${message}</span>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
                    </div>
                `;

                // Add to page
                document.body.appendChild(notification);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }

            async loadBoats() {
                const boatsGrid = document.getElementById('boatsGrid');
                if (!boatsGrid) return;

                const boats = [
                    {
                        id: 'classic-tender-720',
                        name: 'Classic tender 720 10/12 pers',
                        capacity: '10-12 Personen',
                        image: 'Images/Boats/tender-720-10-12.jpg',
                        available: true,
                        price: '‚Ç¨230/dag'
                    },
                    {
                        id: 'electrosloop-10',
                        name: 'Electrosloop 10 pers',
                        capacity: '10 Personen',
                        image: 'Images/Boats/electrosloop-10.jpg',
                        available: true,
                        price: '‚Ç¨200/dag'
                    },
                    {
                        id: 'classic-tender-570',
                        name: 'Classic tender 570 8pers',
                        capacity: '8 Personen',
                        image: 'Images/Boats/tender-570-8.jpg',
                        available: true,
                        price: '‚Ç¨200/dag'
                    },
                    {
                        id: 'electrosloop-8',
                        name: 'Electrosloop 8 pers',
                        capacity: '8 Personen',
                        image: 'Images/Boats/electrosloop-8.jpg',
                        available: true,
                        price: '‚Ç¨175/dag'
                    },
                    {
                        id: 'sailboat-4-5',
                        name: 'Zeilboot 4/5 pers',
                        capacity: '4-5 Personen',
                        image: 'Images/Boats/zeilboot-4-5.jpg',
                        available: true,
                        price: '‚Ç¨70/dag'
                    },
                    {
                        id: 'sailpunter-3-4',
                        name: 'Zeilpunter 3/4 pers',
                        capacity: '3-4 Personen',
                        image: 'Images/Boats/sailpunter-3-4.jpg',
                        available: true,
                        price: '‚Ç¨40/dag'
                    },
                    {
                        id: 'electroboat-5',
                        name: 'Electroboot 5 pers',
                        capacity: '5 Personen',
                        image: 'Images/Boats/electroboat-5.jpg',
                        available: true,
                        price: '‚Ç¨80/dag'
                    },
                    {
                        id: 'canoe-3',
                        name: 'Canadese kano 3 pers',
                        capacity: '3 Personen',
                        image: 'Images/Boats/canoe-3.jpg',
                        available: true,
                        price: '‚Ç¨25/dag'
                    },
                    {
                        id: 'kayak-2',
                        name: 'Kajak 2 pers',
                        capacity: '2 Personen',
                        image: 'Images/Boats/kayak-2.jpg',
                        available: true,
                        price: '‚Ç¨25/dag'
                    },
                    {
                        id: 'kayak-1',
                        name: 'Kajak 1 pers',
                        capacity: '1 Persoon',
                        image: 'Images/Boats/kayak-1.jpg',
                        available: true,
                        price: '‚Ç¨20/dag'
                    },
                    {
                        id: 'sup-board',
                        name: 'SUP board 1 pers',
                        capacity: '1 Persoon',
                        image: 'Images/Boats/sub-1.jpg',
                        available: true,
                        price: '‚Ç¨35/dag'
                    }
                ];

                boatsGrid.innerHTML = boats.map(boat => `
                    <div class="boat-card" data-boat-id="${boat.id}">
                        <div class="boat-image">
                            <img src="${boat.image}" alt="${boat.name}" loading="lazy">
                            <div class="boat-status ${boat.available ? 'available' : 'occupied'}">
                                ${boat.available ? 'Beschikbaar' : 'Bezet'}
                            </div>
                        </div>
                        <div class="boat-info">
                            <h3>${boat.name}</h3>
                            <p class="boat-capacity">${boat.capacity}</p>
                            <p class="boat-price">${boat.price}</p>
                            <button class="btn" onclick="showBoatInfo('${boat.id}')">Meer Informatie</button>
                        </div>
                    </div>
                `).join('');
            }

            setupLazyLoading() {
                // Intersection Observer for lazy loading
                if ('IntersectionObserver' in window) {
                    const imageObserver = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const img = entry.target;
                                img.src = img.dataset.src;
                                img.classList.remove('lazy');
                                imageObserver.unobserve(img);
                            }
                        });
                    });

                    document.querySelectorAll('img[data-src]').forEach(img => {
                        imageObserver.observe(img);
                    });
                }
            }

            async setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    try {
                        await navigator.serviceWorker.register('/sw.js');
                        console.log('Service Worker registered successfully');
                    } catch (error) {
                        console.log('Service Worker registration failed:', error);
                    }
                }
            }

            showNotification(message, type = 'info') {
                // Create notification element
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <span>${message}</span>
                        <button class="notification-close">&times;</button>
                    </div>
                `;

                // Add styles
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? '#4caf50' : type === 'error' ? '#f44336' : '#2196f3'};
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                    z-index: 10000;
                    max-width: 400px;
                    animation: slideIn 0.3s ease;
                `;

                // Add to page
                document.body.appendChild(notification);

                // Auto remove after 5 seconds
                setTimeout(() => {
                    notification.remove();
                }, 5000);

                // Close button
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.remove();
                });
            }
        }

        // Chat Widget Functionality
        class ChatWidget {
            constructor() {
                this.isOpen = false;
                this.messages = [];
                this.init();
            }

            init() {
                this.chatButton = document.getElementById('chatButton');
                this.chatWindow = document.getElementById('chatWindow');
                this.chatClose = document.getElementById('chatClose');
                this.chatMessages = document.getElementById('chatMessages');
                this.chatInput = document.getElementById('chatInput');
                this.chatSend = document.getElementById('chatSend');

                this.bindEvents();
                this.addWelcomeMessage();
            }

            bindEvents() {
                this.chatButton.addEventListener('click', () => this.toggleChat());
                this.chatClose.addEventListener('click', () => this.closeChat());
                this.chatSend.addEventListener('click', () => this.sendMessage());
                this.chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.sendMessage();
                });

                // Close chat when clicking outside
                document.addEventListener('click', (e) => {
                    if (this.isOpen && !this.chatWindow.contains(e.target) && !this.chatButton.contains(e.target)) {
                        this.closeChat();
                    }
                });
            }

            toggleChat() {
                if (this.isOpen) {
                    this.closeChat();
                } else {
                    this.openChat();
                }
            }

            openChat() {
                this.chatWindow.classList.add('active');
                this.isOpen = true;
                this.chatInput.focus();
                this.scrollToBottom();
            }

            closeChat() {
                this.chatWindow.classList.remove('active');
                this.isOpen = false;
            }

            addWelcomeMessage() {
                const welcomeMessage = {
                    type: 'bot',
                    content: 'Hallo! Welkom bij Nijenhuis Botenverhuur. Ik ben hier om u te helpen met al uw vragen over botenverhuur, camping, en onze diensten. Hoe kan ik u vandaag helpen?',
                    time: new Date()
                };
                this.addMessage(welcomeMessage);
            }

            addMessage(message) {
                this.messages.push(message);
                this.renderMessage(message);
                this.scrollToBottom();
            }

            renderMessage(message) {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${message.type}`;
                
                const avatar = document.createElement('div');
                avatar.className = 'message-avatar';
                avatar.textContent = message.type === 'bot' ? 'N' : 'U';

                const content = document.createElement('div');
                content.className = 'message-content';
                content.textContent = message.content;

                const time = document.createElement('div');
                time.className = 'message-time';
                time.textContent = message.time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

                messageElement.appendChild(avatar);
                messageElement.appendChild(content);
                messageElement.appendChild(time);

                this.chatMessages.appendChild(messageElement);
            }

            async sendMessage() {
                const message = this.chatInput.value.trim();
                if (!message) return;

                // Add user message
                const userMessage = {
                    type: 'user',
                    content: message,
                    time: new Date()
                };
                this.addMessage(userMessage);

                // Clear input
                this.chatInput.value = '';
                this.chatSend.disabled = true;

                // Show typing indicator
                this.showTyping();

                // Get bot response
                const botResponse = await this.getBotResponse(message);
                
                // Hide typing indicator
                this.hideTyping();

                // Add bot response
                const botMessage = {
                    type: 'bot',
                    content: botResponse,
                    time: new Date()
                };
                this.addMessage(botMessage);

                this.chatSend.disabled = false;
                this.chatInput.focus();
            }

            showTyping() {
                // Remove any existing typing indicator first
                this.hideTyping();
                
                // Create and add typing indicator after the last message
                const typingElement = document.createElement('div');
                typingElement.className = 'typing-indicator active';
                typingElement.innerHTML = `
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                `;
                
                this.chatMessages.appendChild(typingElement);
                this.scrollToBottom();
            }

            hideTyping() {
                const existingTyping = this.chatMessages.querySelector('.typing-indicator');
                if (existingTyping) {
                    existingTyping.remove();
                }
            }

            scrollToBottom() {
                setTimeout(() => {
                    this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
                }, 100);
            }

            async getBotResponse(message) {
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));

                const lowerMessage = message.toLowerCase();
                
                // Analyze website content for accurate responses
                const websiteData = this.analyzeWebsiteContent();
                
                // Boat rental questions
                if (lowerMessage.includes('boot') || lowerMessage.includes('boat') || lowerMessage.includes('verhuur') || lowerMessage.includes('rental')) {
                    if (lowerMessage.includes('prijs') || lowerMessage.includes('price') || lowerMessage.includes('kosten') || lowerMessage.includes('cost')) {
                        return this.getBoatPricingResponse(websiteData.boats);
                    }
                    if (lowerMessage.includes('beschikbaar') || lowerMessage.includes('available') || lowerMessage.includes('reserveren') || lowerMessage.includes('book')) {
                        return this.getAvailabilityResponse(websiteData.boats);
                    }
                    if (lowerMessage.includes('type') || lowerMessage.includes('soort') || lowerMessage.includes('kinds')) {
                        return this.getBoatTypesResponse(websiteData.boats);
                    }
                    if (lowerMessage.includes('elektrisch') || lowerMessage.includes('electric')) {
                        return this.getElectricBoatsResponse(websiteData.boats);
                    }
                    if (lowerMessage.includes('zeil') || lowerMessage.includes('sail')) {
                        return this.getSailingBoatsResponse(websiteData.boats);
                    }
                    if (lowerMessage.includes('kano') || lowerMessage.includes('canoe') || lowerMessage.includes('kajak') || lowerMessage.includes('kayak')) {
                        return this.getCanoeKayakResponse(websiteData.boats);
                    }
                    return this.getGeneralBoatResponse(websiteData.boats);
                }

                // Camping questions
                if (lowerMessage.includes('camping') || lowerMessage.includes('tent') || lowerMessage.includes('plaats')) {
                    return this.getCampingResponse(websiteData.services);
                }

                // Marina questions
                if (lowerMessage.includes('jachthaven') || lowerMessage.includes('marina') || lowerMessage.includes('ligplaats')) {
                    return this.getMarinaResponse(websiteData.services);
                }

                // Holiday home questions
                if (lowerMessage.includes('vakantiehuis') || lowerMessage.includes('holiday') || lowerMessage.includes('huis')) {
                    return this.getHolidayHomeResponse(websiteData.services);
                }

                // Contact questions
                if (lowerMessage.includes('contact') || lowerMessage.includes('telefoon') || lowerMessage.includes('phone') || lowerMessage.includes('bellen')) {
                    return this.getContactResponse(websiteData.contact);
                }

                // Opening hours
                if (lowerMessage.includes('open') || lowerMessage.includes('openingstijden') || lowerMessage.includes('hours') || lowerMessage.includes('tijd')) {
                    return this.getOpeningHoursResponse(websiteData.contact);
                }

                // Location questions
                if (lowerMessage.includes('waar') || lowerMessage.includes('where') || lowerMessage.includes('adres') || lowerMessage.includes('address') || lowerMessage.includes('locatie')) {
                    return this.getLocationResponse(websiteData.contact);
                }

                // Payment questions
                if (lowerMessage.includes('betalen') || lowerMessage.includes('payment') || lowerMessage.includes('pin') || lowerMessage.includes('card') || lowerMessage.includes('cash') || lowerMessage.includes('contant')) {
                    return 'Momenteel accepteren we alleen contante betalingen. We zijn bezig met het implementeren van pin- en kaartbetalingen. Neem contant geld mee voor uw reservering.';
                }

                // General help
                if (lowerMessage.includes('help') || lowerMessage.includes('hulp') || lowerMessage.includes('help')) {
                    return this.getHelpResponse(websiteData);
                }

                // Default response
                return 'Ik begrijp uw vraag niet helemaal. Kunt u het anders formuleren? Ik kan helpen met botenverhuur, camping, jachthaven, prijzen, reserveringen, openingstijden en locatie.';
            }

            analyzeWebsiteContent() {
                const data = {
                    boats: this.extractBoatData(),
                    services: this.extractServiceData(),
                    contact: this.extractContactData()
                };
                return data;
            }

            extractBoatData() {
                const boats = [];
                
                // Extract boat information from the page
                const boatElements = document.querySelectorAll('.boat-card, [data-boat-id]');
                boatElements.forEach(element => {
                    const boatId = element.dataset.boatId || element.querySelector('h3')?.textContent?.toLowerCase().replace(/\s+/g, '-');
                    const name = element.querySelector('h3')?.textContent || '';
                    const capacity = element.querySelector('.boat-capacity')?.textContent || '';
                    const price = element.querySelector('.boat-price')?.textContent || '';
                    const status = element.querySelector('.boat-status')?.textContent || '';
                    const image = element.querySelector('img')?.src || '';
                    
                    if (name) {
                        boats.push({
                            id: boatId,
                            name: name,
                            capacity: capacity,
                            price: price,
                            status: status,
                            image: image,
                            available: !status.includes('Bezet') && !status.includes('Occupied')
                        });
                    }
                });

                // If no boats found in DOM, use fallback data
                if (boats.length === 0) {
                    boats.push(
                        { name: 'Classic tender 720 10/12 pers', price: '‚Ç¨85/dag', capacity: '10-12 Personen', available: true },
                        { name: 'Electrosloop 10 pers', price: '‚Ç¨80/dag', capacity: '10 Personen', available: true },
                        { name: 'Classic tender 570 8pers', price: '‚Ç¨75/dag', capacity: '8 Personen', available: true },
                        { name: 'Electrosloop 8 pers', price: '‚Ç¨75/dag', capacity: '8 Personen', available: true },
                        { name: 'Zeilboot 4/5 pers', price: '‚Ç¨60/dag', capacity: '4-5 Personen', available: true },
                        { name: 'Zeilpunter 3/4 pers', price: '‚Ç¨55/dag', capacity: '3-4 Personen', available: true },
                        { name: 'Electroboot 5 pers', price: '‚Ç¨65/dag', capacity: '5 Personen', available: true },
                        { name: 'Canadese kano 3 pers', price: '‚Ç¨35/dag', capacity: '3 Personen', available: true },
                        { name: 'Kajak 2 pers', price: '‚Ç¨25/dag', capacity: '2 Personen', available: true },
                        { name: 'Kajak 1 pers', price: '‚Ç¨20/dag', capacity: '1 Persoon', available: true },
                        { name: 'SUP board 1 pers', price: '‚Ç¨15/dag', capacity: '1 Persoon', available: true }
                    );
                }

                return boats;
            }

            extractServiceData() {
                const services = [];
                
                // Extract service information from the page
                const serviceElements = document.querySelectorAll('.service-card');
                serviceElements.forEach(element => {
                    const title = element.querySelector('h3')?.textContent || '';
                    const description = element.querySelector('p')?.textContent || '';
                    
                    if (title) {
                        services.push({
                            title: title,
                            description: description
                        });
                    }
                });

                return services;
            }

            extractContactData() {
                const contact = {
                    phone: '',
                    address: '',
                    openingHours: ''
                };

                // Extract phone number
                const phoneElement = document.querySelector('a[href^="tel:"]');
                if (phoneElement) {
                    contact.phone = phoneElement.textContent.trim();
                }

                // Extract address from footer
                const addressElements = document.querySelectorAll('.footer-links li');
                addressElements.forEach(element => {
                    const text = element.textContent;
                    if (text.includes('Veneweg')) {
                        contact.address = text;
                    }
                });

                // Extract opening hours
                const openingElement = document.querySelector('.contact-info span');
                if (openingElement) {
                    contact.openingHours = openingElement.textContent;
                }

                return contact;
            }

            getBoatPricingResponse(boats) {
                if (boats.length === 0) {
                    return 'Onze boten kosten tussen ‚Ç¨15 en ‚Ç¨85 per dag, afhankelijk van het type en de grootte.';
                }

                const priceList = boats.map(boat => `${boat.name} ${boat.price}`).join(', ');
                return `Onze boten kosten: ${priceList}. Alle prijzen zijn inclusief brandstof en verzekering.`;
            }

            getAvailabilityResponse(boats) {
                const availableBoats = boats.filter(boat => boat.available);
                const totalBoats = boats.length;
                
                if (availableBoats.length === totalBoats) {
                    return `We hebben momenteel alle ${totalBoats} boten beschikbaar! U kunt direct online reserveren via onze website of telefonisch op 0522 - 281 528.`;
                } else {
                    return `We hebben momenteel ${availableBoats.length} van de ${totalBoats} boten beschikbaar. Neem contact op voor de actuele beschikbaarheid.`;
                }
            }

            getBoatTypesResponse(boats) {
                const types = {
                    electric: boats.filter(b => b.name.toLowerCase().includes('electro')),
                    sailing: boats.filter(b => b.name.toLowerCase().includes('zeil')),
                    classic: boats.filter(b => b.name.toLowerCase().includes('classic') || b.name.toLowerCase().includes('tender')),
                    canoe: boats.filter(b => b.name.toLowerCase().includes('kano') || b.name.toLowerCase().includes('kajak') || b.name.toLowerCase().includes('sup'))
                };

                let response = 'We hebben: ';
                if (types.electric.length > 0) response += `${types.electric.length} elektrische boten, `;
                if (types.sailing.length > 0) response += `${types.sailing.length} zeilboten, `;
                if (types.classic.length > 0) response += `${types.classic.length} classic tenders, `;
                if (types.canoe.length > 0) response += `${types.canoe.length} kano\'s/kajaks/SUP boards. `;
                
                response += 'Welke interesseert u?';
                return response;
            }

            getElectricBoatsResponse(boats) {
                const electricBoats = boats.filter(b => b.name.toLowerCase().includes('electro'));
                if (electricBoats.length === 0) {
                    return 'We hebben momenteel geen elektrische boten beschikbaar.';
                }
                
                const boatList = electricBoats.map(b => `${b.name} (${b.price})`).join(', ');
                return `Onze elektrische boten zijn stil, milieuvriendelijk en perfect voor het natuurgebied: ${boatList}. Ze hebben een actieradius van 6-8 uur en zijn zeer eenvoudig te bedienen.`;
            }

            getSailingBoatsResponse(boats) {
                const sailingBoats = boats.filter(b => b.name.toLowerCase().includes('zeil'));
                if (sailingBoats.length === 0) {
                    return 'We hebben momenteel geen zeilboten beschikbaar.';
                }
                
                const boatList = sailingBoats.map(b => `${b.name} (${b.price})`).join(', ');
                return `Onze zeilboten zijn perfect voor ervaren zeilers: ${boatList}. Ze zijn uitgerust met alle benodigde zeilen en zijn geschikt voor het Weerribben gebied.`;
            }

            getCanoeKayakResponse(boats) {
                const canoeBoats = boats.filter(b => 
                    b.name.toLowerCase().includes('kano') || 
                    b.name.toLowerCase().includes('kajak') || 
                    b.name.toLowerCase().includes('sup')
                );
                
                if (canoeBoats.length === 0) {
                    return 'We hebben momenteel geen kano\'s of kajaks beschikbaar.';
                }
                
                const boatList = canoeBoats.map(b => `${b.name} (${b.price})`).join(', ');
                return `Voor avontuur hebben we: ${boatList}. Perfect voor het verkennen van de smalle waterwegen!`;
            }

            getGeneralBoatResponse(boats) {
                const totalBoats = boats.length;
                const priceRange = this.getPriceRange(boats);
                return `We hebben een breed assortiment van ${totalBoats} boten: van elektrische boten tot zeilboten, kano\'s en SUP boards. Prijzen vari√´ren van ${priceRange}. Wat wilt u weten over een specifiek type boot?`;
            }

            getPriceRange(boats) {
                if (boats.length === 0) return '‚Ç¨15 tot ‚Ç¨85 per dag';
                
                const prices = boats.map(b => {
                    const price = b.price.match(/‚Ç¨(\d+)/);
                    return price ? parseInt(price[1]) : 0;
                }).filter(p => p > 0);
                
                if (prices.length === 0) return '‚Ç¨15 tot ‚Ç¨85 per dag';
                
                const min = Math.min(...prices);
                const max = Math.max(...prices);
                return `‚Ç¨${min} tot ‚Ç¨${max} per dag`;
            }

            getCampingResponse(services) {
                const campingService = services.find(s => s.title.toLowerCase().includes('camping'));
                if (campingService) {
                    return `Onze camping: ${campingService.description} ‚Ç¨25 per nacht voor 2 personen, inclusief alle faciliteiten.`;
                }
                return 'We hebben prachtige kampeerplaatsen in het natuurgebied Weerribben. ‚Ç¨25 per nacht voor 2 personen, inclusief alle faciliteiten.';
            }

            getMarinaResponse(services) {
                const marinaService = services.find(s => s.title.toLowerCase().includes('marina') || s.title.toLowerCase().includes('jachthaven'));
                if (marinaService) {
                    return `Onze jachthaven: ${marinaService.description} ‚Ç¨15 per meter per dag.`;
                }
                return 'Onze jachthaven biedt veilige ligplaatsen en professionele service voor booteigenaren. ‚Ç¨15 per meter per dag.';
            }

            getHolidayHomeResponse(services) {
                const holidayService = services.find(s => s.title.toLowerCase().includes('vakantie') || s.title.toLowerCase().includes('holiday'));
                if (holidayService) {
                    return `Ons vakantiehuis: ${holidayService.description} Prijzen vanaf ‚Ç¨150 per nacht.`;
                }
                return 'Ons vakantiehuis is perfect voor families en groepen. Het heeft 4 slaapkamers, volledig ingerichte keuken, woonkamer, en directe toegang tot het water. Prijzen vanaf ‚Ç¨150 per nacht.';
            }

            getContactResponse(contact) {
                const phone = contact.phone || '0522 - 281 528';
                return `U kunt ons bereiken op ${phone}. We zijn dagelijks geopend van 9:00 tot 18:00 uur. Voor spoedgevallen buiten openingstijden kunt u een bericht achterlaten.`;
            }

            getOpeningHoursResponse(contact) {
                const hours = contact.openingHours || '9:00 - 18:00';
                return `We zijn dagelijks geopend van ${hours}, ook in het weekend en op feestdagen. In het hoogseizoen (juni-augustus) zijn we soms langer open.`;
            }

            getLocationResponse(contact) {
                const address = contact.address || 'Veneweg 199, 7946 LP Wanneperveen';
                return `We bevinden ons aan de ${address}, in het hart van het natuurgebied Weerribben. Gratis parkeren beschikbaar. Vanaf de A28 afslag Meppel-Noord, dan richting Giethoorn.`;
            }

            getHelpResponse(data) {
                const priceRange = this.getPriceRange(data.boats);
                const totalBoats = data.boats.length;
                return `Ik kan u helpen met: botenverhuur (${totalBoats} boten, prijzen ${priceRange}), camping (‚Ç¨25/nacht), jachthaven (‚Ç¨15/meter/dag), reserveringen, openingstijden (9:00-18:00), en locatie. Wat wilt u weten?`;
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.nijenhuisWebsite = new NijenhuisWebsite();
            window.chatWidget = new ChatWidget();
            
            // Language switcher functionality
            setupLanguageSwitcher();
            
            // Check for success parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('success') === 'true') {
                // Show success message
                const successMessage = document.createElement('div');
                successMessage.className = 'success-message';
                successMessage.innerHTML = `
                    <div class="success-content">
                        <h3>‚úÖ Reserveringsaanvraag succesvol verzonden!</h3>
                        <p>Bedankt voor uw reserveringsaanvraag. Wij controleren de beschikbaarheid en nemen zo spoedig mogelijk contact met u op via het opgegeven emailadres.</p>
                        <p><strong>Uw aanvraag is verzonden naar: info@nijenhuis-botenverhuur.nl</strong></p>
                    </div>
                `;
                
                // Insert at the top of the main content
                const main = document.querySelector('main');
                main.insertBefore(successMessage, main.firstChild);
                
                // Remove success parameter from URL
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        });

        // --- Language Switcher Initialization ---
        function initLanguageSwitcher() {
            const languageSwitcher = document.querySelector('.language-switcher');
            const currentLangBtn = document.querySelector('.current-lang');

            if (languageSwitcher && currentLangBtn) {
                // Add click handler to current language button
                currentLangBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    languageSwitcher.classList.toggle('active');
                });
            }
        }

        // GET CURRENT LANGUAGE
        function getCurrentLanguage() {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang');
            return lang && translations[lang] ? lang : 'nl';
        }

        // SWITCH LANGUAGE (now calls re-initializer)
        function switchLanguage(lang) {
            // Update URL
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.replaceState({}, '', url);

            // Update page content
            translatePage(lang);

            // Update the current language display
            const currentLang = document.querySelector('.current-lang');
            if (currentLang) {
                switch(lang) {
                    case 'nl':
                        currentLang.innerHTML = '<span class="flag-circle"><span class="fi fi-nl"></span></span> NL';
                        break;
                    case 'en':
                        currentLang.innerHTML = '<span class="flag-circle"><span class="fi fi-gb"></span></span> EN';
                        break;
                    case 'de':
                        currentLang.innerHTML = '<span class="flag-circle"><span class="fi fi-de"></span></span> DE';
                        break;
                }
            }

            // --- CRITICAL: Re-initialize event listeners on the replaced node
            initLanguageSwitcher();
        }

        function translatePage(lang) {
            const translations = {
                nl: {
                    // Meta tags
                    'title': 'Nijenhuis Botenverhuur | Camping & Jachthaven in Giethoorn & Wanneperveen',
                    'description': 'Botenverhuur in het prachtige natuurgebied Weerribben bij Giethoorn. Elektrische boten, kano\'s, camping en jachthaven diensten. Boek uw perfecte dag op het water.',
                    
                    // Top bar
                    'opening-hours': 'Openingstijden: 9:00 - 18:00',
                    
                    // Navigation
                    'boat-hire': 'Botenverhuur',
                    'holiday-home': 'Vakantiehuis',
                    'for-sale': 'Te Koop',
                    'camping': 'Camping',
                    'marina': 'Jachthaven',
                    'sailing-map': 'Vaarkaart',
                    'contact': 'Contact',

                    
                    // Hero section
                    'hero-title': 'Ontsnap naar het Natuurparadijs',
                    'hero-subtitle': 'Ervaar de schoonheid van het natuurgebied Weerribben met onze premium botenverhuur. Perfect voor families, vrienden en natuurliefhebbers.',
                    
                    // Booking form
                    'check-availability': 'Beschikbaarheid Controleren',
                    'date': 'Datum',
                    'boat-type': 'Boot Type',
                    'select-boat': 'Selecteer een boot',
                    'check-availability-btn': 'Beschikbaarheid Controleren',
                    
                    // Intro section
                    'intro-title': 'Een Vredige Ontsnapping van het Dagelijks Leven',
                    'intro-text-1': 'In de drukke wereld van vandaag heeft iedereen een moment nodig om los te koppelen. Laat files, stress en de dagelijkse sleur achter je. Ervaar het leven vanuit een ander perspectief - vanaf het water.',
                    'intro-text-2': 'Onze boten bieden de perfecte manier om het adembenemende natuurgebied Weerribben te verkennen, met onvergetelijke herinneringen voor u en uw dierbaren.',
                    'why-choose': 'Waarom Kiezen voor Nijenhuis?',
                    'feature-1': 'Gelegen in het hart van het natuurgebied Weerribben',
                    'feature-2': 'Breed assortiment boten voor alle voorkeuren',
                    'feature-3': 'Milieuvriendelijke elektrische boten beschikbaar',
                    'feature-4': 'Perfect voor families en groepen',
                    'feature-5': 'Concurrenci√´le prijzen voor alle budgetten',
                    'feature-6': 'Persoonlijke service en ondersteuning',
                    'more-info': 'Voor meer informatie, bel 0522 - 281 528',
                    'payment-note': 'Momenteel alleen contante betalingen geaccepteerd',
                    
                    // Boats section
                    'boat-fleet': 'Onze Botenvloot',
                    'available': 'Beschikbaar',
                    'occupied': 'Bezet',
                    'book-now': 'Nu Boeken',
                    
                    // Services section
                    'our-services': 'Onze Diensten',
                    'boat-rental': 'Botenverhuur',
                    'boat-rental-desc': 'Elektrische boten, kano\'s, kajaks en SUP boards voor alle leeftijden en ervaringsniveaus.',
                    'camping-desc': 'Prachtige kampeerplaatsen in het natuurgebied met moderne faciliteiten en adembenemende uitzichten.',
                    'marina-desc': 'Professionele jachthaven diensten voor booteigenaren met veilige ligplaatsen en onderhoud.',
                    'holiday-home-desc': 'Comfortabele vakantie accommodatie perfect voor families en groepen.',
                    'learn-more': 'Meer Info',
                    
                    // Map section
                    'find-us': 'Vind Ons',
                    
                    // Footer
                    'contact-info': 'Contactgegevens',
                    'services': 'Diensten',
                    'more-information': 'Meer Informatie',
                    'all-rights-reserved': 'Alle rechten voorbehouden'
                },
                en: {
                    // Meta tags
                    'title': 'Nijenhuis Boat Rental | Camping & Marina in Giethoorn & Wanneperveen',
                    'description': 'Boat rental in the beautiful Weerribben nature reserve near Giethoorn. Electric boats, canoes, camping, and marina services. Book your perfect day on the water.',
                    
                    // Top bar
                    'opening-hours': 'Opening hours: 9:00 - 18:00',
                    
                    // Navigation
                    'boat-hire': 'Boat Hire',
                    'holiday-home': 'Holiday Home',
                    'for-sale': 'For Sale',
                    'camping': 'Camping',
                    'marina': 'Marina',
                    'sailing-map': 'Sailing Map',
                    'contact': 'Contact',

                    
                    // Hero section
                    'hero-title': 'Escape to Nature\'s Paradise',
                    'hero-subtitle': 'Experience the beauty of Weerribben nature reserve with our premium boat rentals. Perfect for families, friends, and nature lovers.',
                    
                    // Booking form
                    'check-availability': 'Check Availability',
                    'date': 'Date',
                    'boat-type': 'Boat Type',
                    'select-boat': 'Select a boat',
                    'check-availability-btn': 'Check Availability',
                    
                    // Intro section
                    'intro-title': 'A Peaceful Escape from the Everyday',
                    'intro-text-1': 'In today\'s busy world, everyone needs a moment to disconnect. Leave behind traffic jams, stress, and the daily grind. Experience life from a different perspective - from the water.',
                    'intro-text-2': 'Our boats offer the perfect way to explore the stunning Weerribben nature reserve, providing unforgettable memories for you and your loved ones.',
                    'why-choose': 'Why Choose Nijenhuis?',
                    'feature-1': 'Located in the heart of Weerribben nature reserve',
                    'feature-2': 'Wide variety of boats for all preferences',
                    'feature-3': 'Eco-friendly electric boats available',
                    'feature-4': 'Perfect for families and groups',
                    'feature-5': 'Competitive pricing for all budgets',
                    'feature-6': 'Personal service and support',
                    'more-info': 'For more information, call 0522 - 281 528',
                    'payment-note': 'Currently only cash payments accepted',
                    
                    // Boats section
                    'boat-fleet': 'Our Boat Fleet',
                    'available': 'Available',
                    'occupied': 'Occupied',
                    'book-now': 'Book Now',
                    
                    // Services section
                    'our-services': 'Our Services',
                    'boat-rental': 'Boat Rental',
                    'boat-rental-desc': 'Electric boats, canoes, kayaks, and SUP boards for all ages and experience levels.',
                    'camping-desc': 'Beautiful camping spots in the nature reserve with modern facilities and stunning views.',
                    'marina-desc': 'Professional marina services for boat owners with secure moorings and maintenance.',
                    'holiday-home-desc': 'Comfortable holiday accommodation perfect for families and groups.',
                    'learn-more': 'Learn More',
                    
                    // Map section
                    'find-us': 'Find Us',
                    
                    // Footer
                    'contact-info': 'Contact Information',
                    'services': 'Services',
                    'more-information': 'More Information',
                    'all-rights-reserved': 'All rights reserved'
                },
                de: {
                    // Meta tags
                    'title': 'Nijenhuis Bootsverleih | Camping & Marina in Giethoorn & Wanneperveen',
                    'description': 'Bootsverleih im wundersch√∂nen Naturschutzgebiet Weerribben bei Giethoorn. Elektroboote, Kanus, Camping und Marina-Services. Buchen Sie Ihren perfekten Tag auf dem Wasser.',
                    
                    // Top bar
                    'opening-hours': '√ñffnungszeiten: 9:00 - 18:00',
                    
                    // Navigation
                    'boat-hire': 'Bootsverleih',
                    'holiday-home': 'Ferienhaus',
                    'for-sale': 'Zu Verkaufen',
                    'camping': 'Camping',
                    'marina': 'Marina',
                    'sailing-map': 'Segelkarte',
                    'contact': 'Kontakt',
                    'shopping-cart': 'Warenkorb',
                    
                    // Hero section
                    'hero-title': 'Flucht ins Naturparadies',
                    'hero-subtitle': 'Erleben Sie die Sch√∂nheit des Naturschutzgebiets Weerribben mit unseren Premium-Booten. Perfekt f√ºr Familien, Freunde und Naturliebhaber.',
                    
                    // Booking form
                    'check-availability': 'Verf√ºgbarkeit Pr√ºfen',
                    'date': 'Datum',
                    'boat-type': 'Bootstyp',
                    'select-boat': 'Boot ausw√§hlen',
                    'check-availability-btn': 'Verf√ºgbarkeit Pr√ºfen',
                    
                    // Intro section
                    'intro-title': 'Eine Friedliche Flucht vom Alltag',
                    'intro-text-1': 'In der hektischen Welt von heute braucht jeder einen Moment zum Abschalten. Lassen Sie Staus, Stress und den t√§glichen Trott hinter sich. Erleben Sie das Leben aus einer anderen Perspektive - vom Wasser aus.',
                    'intro-text-2': 'Unsere Boote bieten die perfekte M√∂glichkeit, das atemberaubende Naturschutzgebiet Weerribben zu erkunden, mit unvergesslichen Erinnerungen f√ºr Sie und Ihre Liebsten.',
                    'why-choose': 'Warum Nijenhuis W√§hlen?',
                    'feature-1': 'Gelegen im Herzen des Naturschutzgebiets Weerribben',
                    'feature-2': 'Gro√üe Auswahl an Booten f√ºr alle Vorlieben',
                    'feature-3': 'Umweltfreundliche Elektroboote verf√ºgbar',
                    'feature-4': 'Perfekt f√ºr Familien und Gruppen',
                    'feature-5': 'Wettbewerbsf√§hige Preise f√ºr alle Budgets',
                    'feature-6': 'Pers√∂nlicher Service und Unterst√ºtzung',
                    'more-info': 'F√ºr weitere Informationen rufen Sie 0522 - 281 528 an',
                    'payment-note': 'Derzeit nur Bargeldzahlungen akzeptiert',
                    
                    // Boats section
                    'boat-fleet': 'Unsere Bootsflotte',
                    'available': 'Verf√ºgbar',
                    'occupied': 'Besetzt',
                    'book-now': 'Jetzt Buchen',
                    
                    // Services section
                    'our-services': 'Unsere Dienstleistungen',
                    'boat-rental': 'Bootsverleih',
                    'boat-rental-desc': 'Elektroboote, Kanus, Kajaks und SUP-Boards f√ºr alle Altersgruppen und Erfahrungsstufen.',
                    'camping-desc': 'Wundersch√∂ne Campingpl√§tze im Naturschutzgebiet mit modernen Einrichtungen und atemberaubenden Ausblicken.',
                    'marina-desc': 'Professionelle Marina-Services f√ºr Bootseigent√ºmer mit sicheren Liegepl√§tzen und Wartung.',
                    'holiday-home-desc': 'Komfortable Ferienunterkunft perfekt f√ºr Familien und Gruppen.',
                    'learn-more': 'Mehr Erfahren',
                    
                    // Map section
                    'find-us': 'Finden Sie Uns',
                    
                    // Footer
                    'contact-info': 'Kontaktinformationen',
                    'services': 'Dienstleistungen',
                    'more-information': 'Weitere Informationen',
                    'all-rights-reserved': 'Alle Rechte vorbehalten'
                }
            };

            const t = translations[lang] || translations.nl;
            
            // Update page title and meta description
            document.title = t.title;
            document.querySelector('meta[name="description"]').setAttribute('content', t.description);
            
            // Update top bar
            document.querySelector('.contact-info span').textContent = t['opening-hours'];
            
            // Update navigation
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks[0].textContent = t['boat-hire'];
            navLinks[1].textContent = t['holiday-home'];
            navLinks[2].textContent = t['for-sale'];
            navLinks[3].textContent = t['camping'];
            navLinks[4].textContent = t['marina'];
            navLinks[5].textContent = t['sailing-map'];
            navLinks[6].textContent = t['contact'];
            
            // Fix shopping cart - replace the text content properly
            const cartLink = navLinks[7];
            const cartCount = cartLink.querySelector('.cart-count');
            cartLink.innerHTML = '';
            cartLink.appendChild(cartCount);
            cartLink.appendChild(document.createTextNode(' ' + t['shopping-cart']));
            
            // Update hero section
            document.querySelector('.hero h1').textContent = t['hero-title'];
            document.querySelector('.hero p').textContent = t['hero-subtitle'];
            
            // Update booking form
            document.querySelector('.booking-form h2').textContent = t['check-availability'];
            document.querySelector('label[for="date"]').textContent = t['date'];
            document.querySelector('label[for="boatType"]').textContent = t['boat-type'];
            document.querySelector('#boatType option[value=""]').textContent = t['select-boat'];
            document.querySelector('.booking-form button').textContent = t['check-availability-btn'];
            
            // Update intro section
            document.querySelector('.intro-content h2').textContent = t['intro-title'];
            const introParagraphs = document.querySelectorAll('.intro-content p');
            introParagraphs[0].textContent = t['intro-text-1'];
            introParagraphs[1].textContent = t['intro-text-2'];
            
            // Update features
            document.querySelector('.intro-features h3').textContent = t['why-choose'];
            const features = document.querySelectorAll('.features-list li');
            features[0].textContent = 'üìç ' + t['feature-1'];
            features[1].textContent = 'üö§ ' + t['feature-2'];
            features[2].textContent = 'üåø ' + t['feature-3'];
            features[3].textContent = 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ' + t['feature-4'];
            features[4].textContent = 'üí∞ ' + t['feature-5'];
            features[5].textContent = 'üìû ' + t['feature-6'];
            
            // Update CTA box
            const ctaBox = document.querySelector('.cta-box');
            ctaBox.querySelector('p strong').textContent = t['more-info'];
            ctaBox.querySelector('.payment-note').textContent = t['payment-note'];
            
            // Update boats section
            document.querySelector('.boats-section h2').textContent = t['boat-fleet'];
            
            // Update services section
            document.querySelector('.services-section h2').textContent = t['our-services'];
            const serviceCards = document.querySelectorAll('.service-card');
            serviceCards[0].querySelector('h3').textContent = t['boat-rental'];
            serviceCards[0].querySelector('p').textContent = t['boat-rental-desc'];
            serviceCards[0].querySelector('a').textContent = t['learn-more'];
            serviceCards[1].querySelector('p').textContent = t['camping-desc'];
            serviceCards[1].querySelector('a').textContent = t['learn-more'];
            serviceCards[2].querySelector('h3').textContent = t['marina'];
            serviceCards[2].querySelector('p').textContent = t['marina-desc'];
            serviceCards[2].querySelector('a').textContent = t['learn-more'];
            serviceCards[3].querySelector('h3').textContent = t['holiday-home'];
            serviceCards[3].querySelector('p').textContent = t['holiday-home-desc'];
            serviceCards[3].querySelector('a').textContent = t['learn-more'];
            
            // Update map section
            document.querySelector('.map-section h2').textContent = t['find-us'];
            
            // Update footer
            const footerSections = document.querySelectorAll('.footer-section h4');
            footerSections[0].textContent = t['contact-info'];
            footerSections[1].textContent = t['services'];
            footerSections[2].textContent = t['more-information'];
            document.querySelector('.footer-bottom p').textContent = '¬© 2025 Nijenhuis Botenverhuur. ' + t['all-rights-reserved'];
            
            // Update boat names and prices based on language
            updateBoatTranslations(lang);
        }

        function updateBoatTranslations(lang) {
            const boatTranslations = {
                nl: {
                    'classic-tender-720': 'Classic tender 720 10/12 pers',
                    'electrosloop-10': 'Electrosloop 10 pers',
                    'classic-tender-570': 'Classic tender 570 8pers',
                    'electrosloop-8': 'Electrosloop 8 pers',
                    'sailboat-4-5': 'Zeilboot 4/5 pers',
                    'sailpunter-3-4': 'Zeilpunter 3/4 pers',
                    'electroboat-5': 'Electroboot 5 pers',
                    'canoe-3': 'Canadese kano 3 pers',
                    'kayak-2': 'Kajak 2 pers',
                    'kayak-1': 'Kajak 1 pers',
                    'sup-board': 'SUP board 1 pers'
                },
                en: {
                    'classic-tender-720': 'Classic tender 720 10/12 pers',
                    'electrosloop-10': 'Electrosloop 10 pers',
                    'classic-tender-570': 'Classic tender 570 8pers',
                    'electrosloop-8': 'Electrosloop 8 pers',
                    'sailboat-4-5': 'Sailboat 4/5 pers',
                    'sailpunter-3-4': 'Sailpunter 3/4 pers',
                    'electroboat-5': 'Electroboat 5 pers',
                    'canoe-3': 'Canadian canoe 3 pers',
                    'kayak-2': 'Kayak 2 pers',
                    'kayak-1': 'Kayak 1 pers',
                    'sup-board': 'SUP board 1 pers'
                },
                de: {
                    'classic-tender-720': 'Klassisches Tender 720 10/12 Pers',
                    'electrosloop-10': 'Electrosloop 10 Pers',
                    'classic-tender-570': 'Klassisches Tender 570 8 Pers',
                    'electrosloop-8': 'Electrosloop 8 Pers',
                    'sailboat-4-5': 'Segelboot 4/5 Pers',
                    'sailpunter-3-4': 'Segelpunter 3/4 Pers',
                    'electroboat-5': 'Electroboot 5 Pers',
                    'canoe-3': 'Kanadisches Kanu 3 Pers',
                    'kayak-2': 'Kajak 2 Pers',
                    'kayak-1': 'Kajak 1 Pers',
                    'sup-board': 'SUP Board 1 Pers'
                }
            };

            const t = boatTranslations[lang] || boatTranslations.nl;
            
            // Update boat options in the booking form
            const boatOptions = document.querySelectorAll('#boatType option');
            boatOptions.forEach(option => {
                if (option.value) {
                    const boatId = option.value;
                    if (t[boatId]) {
                        option.textContent = t[boatId];
                    }
                }
            });
            
            // Update boat cards if they exist
            const boatCards = document.querySelectorAll('.boat-card');
            boatCards.forEach(card => {
                const boatId = card.dataset.boatId;
                if (t[boatId]) {
                    const boatName = card.querySelector('h3');
                    if (boatName) {
                        boatName.textContent = t[boatId];
                    }
                }
            });
        }

        // Boat Information Modal
        function showBoatInfo(boatId) {
            const boatData = {
                'classic-tender-720': {
                    name: 'Classic tender 720 10/12 pers',
                    capacity: '10-12 Personen',
                    price: '‚Ç¨230/dag',
                    image: 'Images/Boats/tender-720-10-12.jpg',
                    description: 'Grote, comfortabele tender perfect voor groepen. Ideaal voor familie-uitjes en groepsactiviteiten.',
                    features: [
                        'Lengte: 7.2 meter',
                        'Breedte: 2.4 meter',
                        'Diepgang: 0.6 meter',
                        'Motor: 15pk buitenboord',
                        'Maximum snelheid: 8 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Families, groepen, dagtochten'
                    ],
                    specifications: {
                        'Type': 'Tender',
                        'Materiaal': 'Aluminium',
                        'Bouwjaar': '2020',
                        'Brandstof': 'Benzine',
                        'Tankinhoud': '25 liter',
                        'Actieradius': '8 uur varen'
                    }
                },
                'electrosloop-10': {
                    name: 'Electrosloop 10 pers',
                    capacity: '10 Personen',
                    price: '‚Ç¨200/dag',
                    image: 'Images/Boats/electrosloop-10.jpg',
                    description: 'Moderne electroboot met ruime zitplaatsen en stille elektrische aandrijving.',
                    features: [
                        'Lengte: 6.5 meter',
                        'Breedte: 2.2 meter',
                        'Diepgang: 0.5 meter',
                        'Motor: Elektrisch 3kW',
                        'Maximum snelheid: 6 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Rustige vaartochten, natuurbeleving'
                    ],
                    specifications: {
                        'Type': 'Electroboot',
                        'Materiaal': 'Polyester',
                        'Bouwjaar': '2021',
                        'Brandstof': 'Elektrisch',
                        'Accu': '48V 100Ah',
                        'Actieradius': '8 uur varen'
                    }
                },
                'classic-tender-570': {
                    name: 'Classic tender 570 8pers',
                    capacity: '8 Personen',
                    price: '‚Ç¨200/dag',
                    image: 'Images/Boats/tender-570-8.jpg',
                    description: 'Compacte tender met uitstekende manoeuvreerbaarheid. Perfect voor kleinere groepen.',
                    features: [
                        'Lengte: 5.7 meter',
                        'Breedte: 2.1 meter',
                        'Diepgang: 0.5 meter',
                        'Motor: 10pk buitenboord',
                        'Maximum snelheid: 7 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Kleine groepen, dagtochten'
                    ],
                    specifications: {
                        'Type': 'Tender',
                        'Materiaal': 'Aluminium',
                        'Bouwjaar': '2019',
                        'Brandstof': 'Benzine',
                        'Tankinhoud': '20 liter',
                        'Actieradius': '6 uur varen'
                    }
                },
                'electrosloop-8': {
                    name: 'Electrosloop 8 pers',
                    capacity: '8 Personen',
                    price: '‚Ç¨175/dag',
                    image: 'Images/Boats/electrosloop-8.jpg',
                    description: 'Elektrische sloep met comfortabele zitplaatsen en milieuvriendelijke aandrijving.',
                    features: [
                        'Lengte: 5.8 meter',
                        'Breedte: 2.0 meter',
                        'Diepgang: 0.4 meter',
                        'Motor: Elektrisch 2.5kW',
                        'Maximum snelheid: 5 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Rustige vaartochten, natuurbeleving'
                    ],
                    specifications: {
                        'Type': 'Electroboot',
                        'Materiaal': 'Polyester',
                        'Bouwjaar': '2022',
                        'Brandstof': 'Elektrisch',
                        'Accu': '48V 80Ah',
                        'Actieradius': '6 uur varen'
                    }
                },
                'sailboat-4-5': {
                    name: 'Zeilboot 4/5 pers',
                    capacity: '4-5 Personen',
                    price: '‚Ç¨70/dag (zonder motor), ‚Ç¨85/dag (met motor)',
                    image: 'Images/Boats/zeilboot-4-5.jpg',
                    description: 'Traditionele zeilboot voor de ervaren zeiler. Geniet van de wind en de natuur.',
                    features: [
                        'Lengte: 5.2 meter',
                        'Breedte: 1.8 meter',
                        'Diepgang: 0.8 meter',
                        'Zeilen: Hoofdzeil en fok',
                        'Optioneel: 5pk buitenboord motor',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Zeilers, natuurbeleving'
                    ],
                    specifications: {
                        'Type': 'Zeilboot',
                        'Materiaal': 'Polyester',
                        'Bouwjaar': '2018',
                        'Brandstof': 'Wind (optioneel benzine)',
                        'Tankinhoud': '10 liter (optioneel)',
                        'Actieradius': 'Onbeperkt (wind)'
                    }
                },
                'sailpunter-3-4': {
                    name: 'Zeilpunter 3/4 pers',
                    capacity: '3-4 Personen',
                    price: '‚Ç¨40/dag',
                    image: 'Images/Boats/sailpunter-3-4.jpg',
                        'description': 'Traditionele punter met zeil. Unieke ervaring op het water.',
                    features: [
                        'Lengte: 4.5 meter',
                        'Breedte: 1.4 meter',
                        'Diepgang: 0.3 meter',
                        'Zeilen: Enkel zeil',
                        'Maximum snelheid: 4 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Kleine groepen, traditionele ervaring'
                    ],
                    specifications: {
                        'Type': 'Zeilpunter',
                        'Materiaal': 'Hout',
                        'Bouwjaar': '2017',
                        'Brandstof': 'Wind',
                        'Actieradius': 'Onbeperkt (wind)'
                    }
                },
                'electroboat-5': {
                    name: 'Electroboot 5 pers',
                    capacity: '5 Personen',
                    price: '‚Ç¨80/dag',
                    image: 'Images/Boats/electroboat-5.jpg',
                    description: 'Compacte electroboot met goede manoeuvreerbaarheid en stille aandrijving.',
                    features: [
                        'Lengte: 4.8 meter',
                        'Breedte: 1.8 meter',
                        'Diepgang: 0.4 meter',
                        'Motor: Elektrisch 2kW',
                        'Maximum snelheid: 5 km/u',
                        'Inclusief: Zwemvesten, reddingsboei, anker',
                        'Perfect voor: Kleine families, rustige vaartochten'
                    ],
                    specifications: {
                        'Type': 'Electroboot',
                        'Materiaal': 'Polyester',
                        'Bouwjaar': '2020',
                        'Brandstof': 'Elektrisch',
                        'Accu': '48V 60Ah',
                        'Actieradius': '5 uur varen'
                    }
                },
                'canoe-3': {
                    name: 'Canadese kano 3 pers',
                    capacity: '3 Personen',
                    price: '‚Ç¨25/dag',
                    image: 'Images/Boats/canoe-3.jpg',
                    description: 'Robuuste kano van hoogwaardig materiaal, perfect voor avontuurlijke tochten.',
                    features: [
                        'Lengte: 4.8 meter',
                        'Breedte: 1.1 meter',
                        'Diepgang: 0.2 meter',
                        'Gewicht: 35 kg',
                        'Materiaal: Polyethyleen',
                        'Inclusief: Peddels, zwemvesten',
                        'Perfect voor: Sportieve activiteiten, avontuur'
                    ],
                    specifications: {
                        'Type': 'Kano',
                        'Materiaal': 'Polyethyleen',
                        'Bouwjaar': '2019',
                        'Aandrijving': 'Spierkracht',
                        'Actieradius': 'Onbeperkt'
                    }
                },
                'kayak-2': {
                    name: 'Kajak 2 pers',
                    capacity: '2 Personen',
                    price: '‚Ç¨25/dag',
                    image: 'Images/Boats/kayak-2.jpg',
                    description: 'Tweepersoons kajak voor sportieve activiteiten en het verkennen van kleinere waterwegen.',
                    features: [
                        'Lengte: 4.2 meter',
                        'Breedte: 0.8 meter',
                        'Diepgang: 0.2 meter',
                        'Gewicht: 28 kg',
                        'Materiaal: Polyethyleen',
                        'Inclusief: Peddels, zwemvesten',
                        'Perfect voor: Sportieve activiteiten, avontuur'
                    ],
                    specifications: {
                        'Type': 'Kajak',
                        'Materiaal': 'Polyethyleen',
                        'Bouwjaar': '2020',
                        'Aandrijving': 'Spierkracht',
                        'Actieradius': 'Onbeperkt'
                    }
                },
                'kayak-1': {
                    name: 'Kajak 1 pers',
                    capacity: '1 Persoon',
                    price: '‚Ç¨20/dag',
                    image: 'Images/Boats/kayak-1.jpg',
                    description: 'Eenpersoons kajak voor individuele sportieve activiteiten.',
                    features: [
                        'Lengte: 3.8 meter',
                        'Breedte: 0.7 meter',
                        'Diepgang: 0.2 meter',
                        'Gewicht: 22 kg',
                        'Materiaal: Polyethyleen',
                        'Inclusief: Peddel, zwemvest',
                        'Perfect voor: Individuele sport, ontspanning'
                    ],
                    specifications: {
                        'Type': 'Kajak',
                        'Materiaal': 'Polyethyleen',
                        'Bouwjaar': '2021',
                        'Aandrijving': 'Spierkracht',
                        'Actieradius': 'Onbeperkt'
                    }
                },
                'sup-board': {
                    name: 'SUP board 1 pers',
                    capacity: '1 Persoon',
                    price: '‚Ç¨35/dag',
                    image: 'Images/Boats/sub-1.jpg',
                    description: 'Stand-up paddleboard voor een unieke manier om het water te ervaren.',
                    features: [
                        'Lengte: 3.2 meter',
                        'Breedte: 0.8 meter',
                        'Dikte: 15 cm',
                        'Gewicht: 12 kg',
                        'Materiaal: Inflatable PVC',
                        'Inclusief: Peddel, zwemvest, pomp',
                        'Perfect voor: Balans, ontspanning, fitness'
                    ],
                    specifications: {
                        'Type': 'SUP Board',
                        'Materiaal': 'Inflatable PVC',
                        'Bouwjaar': '2022',
                        'Aandrijving': 'Spierkracht',
                        'Actieradius': 'Onbeperkt'
                    }
                }
            };

            const boat = boatData[boatId];
            if (!boat) return;

            // Create modal HTML
            const modalHTML = `
                <div id="boatModal" class="boat-modal">
                    <div class="boat-modal-content">
                        <span class="boat-modal-close" onclick="closeBoatModal()">&times;</span>
                        <div class="boat-modal-header">
                            <img src="${boat.image}" alt="${boat.name}" class="boat-modal-image">
                            <div class="boat-modal-title">
                                <h2>${boat.name}</h2>
                                <p class="boat-modal-price">${boat.price}</p>
                                <p class="boat-modal-capacity">${boat.capacity}</p>
                            </div>
                        </div>
                        <div class="boat-modal-body">
                            <div class="boat-modal-section">
                                <h3>Beschrijving</h3>
                                <p>${boat.description}</p>
                            </div>
                            <div class="boat-modal-section">
                                <h3>Kenmerken</h3>
                                <ul>
                                    ${boat.features.map(feature => `<li>${feature}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="boat-modal-section">
                                <h3>Specificaties</h3>
                                <div class="specifications-grid">
                                    ${Object.entries(boat.specifications).map(([key, value]) => 
                                        `<div class="spec-item">
                                            <strong>${key}:</strong> ${value}
                                        </div>`
                                    ).join('')}
                                </div>
                            </div>
                        </div>
                        <div class="boat-modal-footer">
                            <button class="btn" onclick="closeBoatModal()">Sluiten</button>
                            <button class="btn btn-primary" onclick="bookBoat('${boatId}')">Nu Boeken</button>
                        </div>
                    </div>
                </div>
            `;

            // Add modal to page
            document.body.insertAdjacentHTML('beforeend', modalHTML);

            // Add modal styles if not already present
            if (!document.getElementById('boatModalStyles')) {
                const styles = `
                    <style id="boatModalStyles">
                        .boat-modal {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: rgba(0,0,0,0.8);
                            z-index: 10000;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            padding: 20px;
                            box-sizing: border-box;
                        }

                        .boat-modal-content {
                            background: white;
                            border-radius: 12px;
                            max-width: 800px;
                            width: 100%;
                            max-height: 90vh;
                            overflow-y: auto;
                            position: relative;
                            animation: modalSlideIn 0.3s ease;
                        }

                        @keyframes modalSlideIn {
                            from {
                                opacity: 0;
                                transform: translateY(-50px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }

                        .boat-modal-close {
                            position: absolute;
                            top: 15px;
                            right: 20px;
                            font-size: 28px;
                            font-weight: bold;
                            cursor: pointer;
                            color: #666;
                            z-index: 1;
                        }

                        .boat-modal-close:hover {
                            color: #000;
                        }

                        .boat-modal-header {
                            display: flex;
                            gap: 20px;
                            padding: 30px;
                            border-bottom: 1px solid #eee;
                        }

                        .boat-modal-image {
                            width: 200px;
                            height: 150px;
                            object-fit: cover;
                            border-radius: 8px;
                        }

                        .boat-modal-title h2 {
                            color: var(--secondary-color);
                            margin-bottom: 10px;
                        }

                        .boat-modal-price {
                            font-size: 1.5rem;
                            font-weight: bold;
                            color: var(--primary-color);
                            margin-bottom: 5px;
                        }

                        .boat-modal-capacity {
                            color: #666;
                            font-size: 1.1rem;
                        }

                        .boat-modal-body {
                            padding: 30px;
                        }

                        .boat-modal-section {
                            margin-bottom: 30px;
                        }

                        .boat-modal-section h3 {
                            color: var(--secondary-color);
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                        }

                        .boat-modal-section ul {
                            list-style: none;
                            padding: 0;
                        }

                        .boat-modal-section li {
                            padding: 8px 0;
                            border-bottom: 1px solid #eee;
                        }

                        .boat-modal-section li:last-child {
                            border-bottom: none;
                        }

                        .boat-modal-section li::before {
                            content: "‚úì";
                            color: var(--primary-color);
                            font-weight: bold;
                            margin-right: 10px;
                        }

                        .specifications-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                            gap: 15px;
                        }

                        .spec-item {
                            padding: 10px;
                            background: #f8f9fa;
                            border-radius: 6px;
                            border-left: 4px solid var(--primary-color);
                        }

                        .boat-modal-footer {
                            padding: 20px 30px;
                            border-top: 1px solid #eee;
                            display: flex;
                            gap: 15px;
                            justify-content: flex-end;
                        }

                        .btn-primary {
                            background: var(--primary-color);
                        }

                        .btn-primary:hover {
                            background: var(--secondary-color);
                        }

                        @media (max-width: 768px) {
                            .boat-modal-header {
                                flex-direction: column;
                                text-align: center;
                            }

                            .boat-modal-image {
                                width: 100%;
                                height: 200px;
                            }

                            .specifications-grid {
                                grid-template-columns: 1fr;
                            }

                            .boat-modal-footer {
                                flex-direction: column;
                            }
                        }
                    </style>
                `;
                document.head.insertAdjacentHTML('beforeend', styles);
            }

            // Show modal
            document.getElementById('boatModal').style.display = 'flex';
        }

        function closeBoatModal() {
            const modal = document.getElementById('boatModal');
            if (modal) {
                modal.remove();
            }
        }

        function bookBoat(boatId) {
            // Close modal
            closeBoatModal();
            
            // Scroll to booking form
            const bookingForm = document.getElementById('bookingForm');
            if (bookingForm) {
                bookingForm.scrollIntoView({ behavior: 'smooth' });
                
                // Set the boat type in the form
                const boatTypeSelect = document.getElementById('boatType');
                if (boatTypeSelect) {
                    boatTypeSelect.value = boatId;
                }
            }
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('boatModal');
            if (modal && event.target === modal) {
                closeBoatModal();
            }
        });

        // --- DOM READY LOGIC ---
        document.addEventListener('DOMContentLoaded', function() {
            const currentLang = getCurrentLanguage();
            translatePage(currentLang);

            // Initialize language switcher
            initLanguageSwitcher();
            
            // Set up global event delegation for language switcher
            setupLanguageSwitcherEvents();
        });
        
        // Global event delegation for language switcher
        function setupLanguageSwitcherEvents() {
            // Handle clicks on language options (event delegation)
            document.addEventListener('click', function(e) {
                if (e.target.closest('.lang-option')) {
                    e.preventDefault();
                    const langOption = e.target.closest('.lang-option');
                    const lang = langOption.getAttribute('href').split('=')[1];
                    switchLanguage(lang);
                    
                    // Close dropdown
                    const languageSwitcher = document.querySelector('.language-switcher');
                    if (languageSwitcher) {
                        languageSwitcher.classList.remove('active');
                    }
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                const languageSwitcher = document.querySelector('.language-switcher');
                if (languageSwitcher && !languageSwitcher.contains(e.target)) {
                    languageSwitcher.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>