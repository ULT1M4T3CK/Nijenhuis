<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Test - Nijenhuis Botenverhuur</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        .test-result {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .test-error {
            background: #ffebee;
            border: 1px solid #f44336;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .btn {
            background: #2196f3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            background: #1976d2;
        }
    </style>
  <script src="../frontend/src/js/main.js"></script>
</head>
<body>
    <div class="test-container">
        <h1>ðŸ”§ Path Construction Test</h1>
        <p>This page tests the path construction for local development.</p>
        
        <div id="testResults"></div>
        
        <div style="margin-top: 20px;">
            <button class="btn" onclick="testPaths()">Test Paths</button>
            <button class="btn" onclick="testPaymentSimulation()">Test Payment Simulation</button>
            <button class="btn" onclick="testPaymentSuccess()">Test Payment Success</button>
        </div>
    </div>

    <script>
        function testPaths() {
            const results = document.getElementById('testResults');
            results.textContent = '';
            
            // Test current location
            addResult('Current Location', window.location.href, 'info');
            addResult('Protocol', window.location.protocol, 'info');
            addResult('Hostname', window.location.hostname, 'info');
            addResult('Pathname', window.location.pathname, 'info');
            addResult('Origin', window.location.origin, 'info');
            
            // Test base URL construction
            const baseUrl = getBaseUrl();
            addResult('Constructed Base URL', baseUrl, 'success');
            
            // Test payment simulation URL
            const paymentSimUrl = baseUrl + 'pages/payment-simulation.html?payment_id=test123&booking_id=booking456';
            addResult('Payment Simulation URL', paymentSimUrl, 'success');
            
            // Test payment success URL
            const paymentSuccessUrl = baseUrl + 'pages/payment-success.html?booking_id=booking456';
            addResult('Payment Success URL', paymentSuccessUrl, 'success');
            
            // Test if we're in local development
            const isLocalDev = window.location.hostname === 'localhost' || 
                              window.location.hostname === '127.0.0.1' ||
                              window.location.protocol === 'file:';
            addResult('Local Development Mode', isLocalDev ? 'Yes' : 'No', isLocalDev ? 'success' : 'info');
        }
        
        function getBaseUrl() {
            // Check if we're running from file:// protocol (local development)
            if (window.location.protocol === 'file:') {
                // For file:// protocol, we need to construct the path differently
                const currentPath = window.location.pathname;
                const pathParts = currentPath.split('/');
                
                // Remove the filename and get the directory path
                pathParts.pop(); // Remove current file
                if (pathParts[pathParts.length - 1] === 'pages') {
                    pathParts.pop(); // Remove 'pages' directory
                }
                
                // Construct the base URL
                const basePath = pathParts.join('/') + '/';
                return `file://${basePath}`;
            } else {
                // For http/https, use origin
                return window.location.origin + '/';
            }
        }
        
        function addResult(label, value, type) {
            const results = document.getElementById('testResults');
            const div = document.createElement('div');
            div.className = type === 'error' ? 'test-error' : 'test-result';
            const strong = document.createElement('strong');
            strong.textContent = label + ':';
            const text = document.createTextNode(' ' + value);
            div.appendChild(strong);
            div.appendChild(text);
            results.appendChild(div);
        }
        
        function testPaymentSimulation() {
            const baseUrl = getBaseUrl();
            const url = baseUrl + 'pages/payment-simulation.html?payment_id=test123&booking_id=booking456';
            console.log('Testing payment simulation URL:', url);
            window.open(url, '_blank');
        }
        
        function testPaymentSuccess() {
            const baseUrl = getBaseUrl();
            const url = baseUrl + 'pages/payment-success.html?booking_id=booking456';
            console.log('Testing payment success URL:', url);
            window.open(url, '_blank');
        }
        
        // Run tests on page load
        document.addEventListener('DOMContentLoaded', testPaths);
    </script>
</body>
</html> 